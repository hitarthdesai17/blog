
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Our Cutiee World üíó</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  
  <style>
    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ RESET & BASE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    * { box-sizing: border-box; font-family: "Comic Sans MS", "Poppins", Arial, sans-serif; }
    body {
      margin: 0; min-height: 100vh;
      background: linear-gradient(135deg, #ffb6c1, #ffd6e8, #cce7ff);
      display: flex; justify-content: center; align-items: center;
      padding: 20px; padding-bottom: 70px;
    }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ BACKGROUND COLLAGE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .bg-collage-grid {
      position: fixed; inset: 0; display: grid;
      grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(2, 1fr);
      z-index: 0; overflow: hidden;
    }
    .bg-collage-grid .tile {
      position: relative; overflow: hidden; transform: translateX(100%);
      animation: slideIn 0.9s forwards ease-out; filter: brightness(0.45);
    }
    .bg-collage-grid .tile:nth-child(1) { animation-delay: 0.0s; }
    .bg-collage-grid .tile:nth-child(2) { animation-delay: 0.2s; }
    .bg-collage-grid .tile:nth-child(3) { animation-delay: 0.4s; }
    .bg-collage-grid .tile:nth-child(4) { animation-delay: 0.6s; }
    .bg-collage-grid .tile:nth-child(5) { animation-delay: 0.8s; }
    .bg-collage-grid .tile:nth-child(6) { animation-delay: 1.0s; }
    
    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to   { transform: translateX(0);    opacity: 1; }
    }
    .bg-collage-grid img, .bg-collage-grid video {
      width: 100%; height: 100%; object-fit: cover; display: block;
    }
    body.unlocked .bg-collage-grid {
      opacity: 0; pointer-events: none; transition: opacity 0.8s ease;
    }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ MAIN CONTAINER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .container {
      position: relative; z-index: 1;
      background: rgba(255,255,255,0.95);
      width: 100%; max-width: 900px;
      border-radius: 25px; padding: 22px;
      box-shadow: 0 15px 40px rgba(0,0,0,0.2);
      animation: fadeIn 1.2s ease;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }

    h1 { text-align: center; color: #ff4f8b; margin-bottom: 6px; }
    .sub { text-align: center; color: #666; font-size: 0.95rem; margin-bottom: 8px; }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ LOCK SCREEN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    #lock { text-align: center; padding: 20px; }
    #lock p { color: #444; margin-bottom: 10px; }
    #password {
      padding: 10px 14px; border-radius: 999px; border: 1px solid #ccc;
      outline: none; width: 80%; max-width: 240px; text-align: center; font-size: 0.95rem;
    }
    #password:focus { border-color: #ff6fa5; }
    .btn {
      margin-top: 10px; padding: 9px 22px; border-radius: 999px; border: none;
      background: linear-gradient(135deg, #ff6fa5, #ff99c8); color: white;
      cursor: pointer; font-size: 0.95rem;
    }
    .btn:hover { opacity: 0.9; }
    .error { color: crimson; font-size: 0.85rem; margin-top: 6px; min-height: 18px; }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ CONTENT AREA ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    #blog { display: none; }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ OPEN WHEN ENVELOPES ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .open-when-section { text-align: center; margin: 20px 0 30px; }
    .ow-heading { color: #ff4f8b; margin-bottom: 15px; font-size: 1.3rem; }
    .envelope-grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; }
    
    .envelope-container {
      cursor: pointer; display: flex; flex-direction: column; align-items: center;
      transition: transform 0.2s;
    }
    .envelope-container:hover { transform: translateY(-5px); }

    .envelope {
      width: 80px; height: 50px; background: #ff99c8; position: relative;
      border-radius: 4px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      display: flex; justify-content: center; align-items: center; z-index: 1;
    }
    .autoplay-reel[data-ended="true"] {
  filter: brightness(0.85) contrast(1.1);
  cursor: pointer;
}
.autoplay-reel[data-ended="true"]:hover {
  filter: brightness(1) contrast(1.15);
}

    /* Flap */
    .envelope::before {
      content: ''; position: absolute; top: 0;
      width: 0; height: 0;
      border-left: 40px solid transparent; border-right: 40px solid transparent;
      border-top: 30px solid #ffb3d6;
      transform-origin: top; transition: transform 0.6s ease; z-index: 3;
    }
    /* Pocket */
    .envelope::after {
      content: ''; position: absolute; bottom: 0;
      width: 0; height: 0;
      border-left: 40px solid #ff85b6; border-right: 40px solid #ff85b6;
      border-top: 25px solid transparent; z-index: 2; border-radius: 0 0 4px 4px;
    }
    .envelope .seal {
      position: absolute; top: 18px; z-index: 4; font-size: 14px;
      color: #d64375; text-shadow: 0 1px 2px rgba(0,0,0,0.2); transition: opacity 0.4s;
    }
    .envelope-label {
      margin-top: 8px; font-size: 0.8rem; color: #555;
      font-weight: 600; max-width: 90px; line-height: 1.2;
    }

    /* Open State */
    .envelope-container.open .envelope::before { transform: rotateX(180deg); z-index: 0; }
    .envelope-container.open .envelope .seal { opacity: 0; }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ REEL SECTION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .reel-section {
      margin-bottom: 18px; background: #fff1f6; border-radius: 18px;
      padding: 12px; border: 1px solid #ffb3c8; box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
    }
    .reel-title { font-weight: 700; font-size: 0.95rem; margin-bottom: 6px; color: #ff4f8b; }
    .reel-sub { font-size: 0.8rem; margin-bottom: 10px; color: #555; }
    .reel-grid { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
    .reel {
      width: 160px; max-width: 45%; aspect-ratio: 9 / 16;
      border-radius: 14px; overflow: hidden; border: 1px solid #ffb3c8;
      box-shadow: 0 6px 14px rgba(0, 0, 0, 0.18); background: #000;
    }
    .reel video { width: 100%; height: 100%; object-fit: cover; display: block; }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ JOURNAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .journal-wrapper {
      margin-bottom: 18px; background: #ffe6f0; border: 2px solid #d36a8a;
      border-radius: 16px; padding: 14px 12px; box-shadow: 0 10px 26px rgba(0, 0, 0, 0.15);
      font-family: "Times New Roman", Georgia, serif; position: relative; overflow: hidden;
    }
    .journal-wrapper::before {
      content: ""; position: absolute; inset: 0;
      background-image: radial-gradient(#ffb6c1 1px, transparent 1px);
      background-size: 20px 20px; opacity: 0.25; pointer-events: none;
    }
    .journal-inner { position: relative; z-index: 1; }
    .journal-top-line {
      display: flex; justify-content: space-between; font-size: 0.75rem;
      letter-spacing: 0.08em; margin-bottom: 4px; text-transform: uppercase;
    }
    .journal-name {
      text-align: center; font-size: 1.2rem; font-weight: 700; letter-spacing: 0.18em;
      padding: 4px 0; border-top: 2px solid #d36a8a; border-bottom: 2px solid #d36a8a;
      margin-bottom: 10px;
    }
    .journal-title-bar {
      border: 2px solid #d36a8a; padding: 6px 8px; font-weight: 700; font-size: 0.95rem; margin-bottom: 6px;
    }
    .journal-byline, .journal-lead { font-size: 0.85rem; margin-bottom: 6px; }
    .journal-lead { margin-bottom: 12px; }
    .journal-grid {
      display: grid; grid-template-columns: 1fr 1fr; gap: 10px; border-top: 1px solid #d36a8a; padding-top: 8px;
    }
    .journal-column { font-size: 0.8rem; line-height: 1.4; }
    .journal-subtitle { font-weight: 700; margin-bottom: 4px; border-bottom: 1px solid #d36a8a; padding-bottom: 2px; }
    .journal-list p { margin: 3px 0; }
    .journal-heart-bullet::before { content: "‚ô• "; color: #d64375; }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ MEMORIES ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .memory {
      background-color: #fff9fb; background-image: radial-gradient(#ffc1da 1.5px, transparent 1.5px);
      background-size: 15px 15px; border: 3px dashed #ff99c8; border-radius: 24px;
      padding: 22px; margin-bottom: 26px; animation: fadeIn 1s ease;
      display: flex; flex-direction: column-reverse; gap: 18px; align-items: center;
      position: relative; box-shadow: 0 8px 20px rgba(189, 97, 129, 0.15); overflow: visible;
    }
    @media (min-width: 700px) { .memory { flex-direction: row; align-items: flex-start; } }
    .memory-content { flex: 1; }
    .memory h2 {
      color: #ff4f8b; text-align: center; margin-top: 0; position: relative;
      display: inline-block; left: 50%; transform: translateX(-50%);
    }
    .memory h2::after {
      content: ""; display: block; width: 100%; height: 6px;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 4'%3E%3Cpath fill='none' stroke='%23ff6fa5' stroke-width='2' d='M0 3.5c5 0 5-3 10-3s5 3 10 3 5-3 10-3 5 3 10 3'/%3E%3C/svg%3E");
      background-repeat: repeat-x; background-size: 20px auto; margin-top: 4px; opacity: 0.7;
    }
    .memory p {
      color: #555; line-height: 1.6; font-size: 0.95rem;
      background: rgba(255, 255, 255, 0.7); padding: 12px; border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    .memory img {
      flex: 0 0 auto; width: 100%; max-width: 280px; height: auto; object-fit: cover;
      border: 8px solid #fff; border-bottom-width: 20px; border-radius: 4px;
      box-shadow: 5px 8px 15px rgba(0,0,0,0.2); transform: rotate(3deg); transition: transform 0.3s ease;
    }
    /* container for video to match existing image style */
.memory-media {
  flex: 0 0 auto;
  width: 100%;
  max-width: 280px;
  height: auto;
  border: 8px solid #fff;
  border-bottom-width: 20px;
  border-radius: 4px;
  box-shadow: 5px 8px 15px rgba(0,0,0,0.2);
  transform: rotate(3deg);
  transition: transform .3s ease, filter .3s ease;
  position: relative;
  overflow: hidden; /* for vignette/mask */
}


.memory-video {
  flex:0 0 auto;
  width:100%;
  max-width:280px;
  height:auto;
  aspect-ratio: 3/4;       /* keeps same portrait shape */
  object-fit: cover;
  border:8px solid #fff;
  border-bottom-width:20px;
  border-radius:4px;
  box-shadow:5px 8px 15px rgba(0,0,0,0.2);
  transform:rotate(3deg);
  transition: transform .3s ease;
}
.memory-media {
  flex:0 0 auto;
  position: relative;
}
.film-frame::before {
  content:"";
  position:absolute;
  top:-10px; left:0; right:0;
  height:14px;
  background-image: radial-gradient(#000 1.4px, transparent 1.4px);
  background-size:10px 10px; 
  opacity:0.25;
}

.memory:hover .memory-video {
  transform: rotate(1deg) scale(1.02);
}


/* hover behavior like images */
.memory:hover .memory-media,
.memory:hover .memory-video {
  transform: rotate(1deg) scale(1.02);
}

/* soft vignette / faded edges */
.memory-media::after{
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(ellipse at center, rgba(0,0,0,0) 60%, rgba(0,0,0,0.08) 100%);
  mix-blend-mode: multiply;
}

/* subtle rounded film perforation frame (optional - remove .film-frame class if not wanted) */
.film-frame {
  padding: 6px 6px 12px 6px; /* creates extra inner border like a film strip */
  background:
    linear-gradient(#fff, #fff) padding-box,
    repeating-linear-gradient(90deg, rgba(0,0,0,0.06) 0 3px, transparent 3px 18px) border-box;
  border-radius: 6px;
  border: 6px solid transparent;
}

/* small decorative holes at top (CSS-only "perforation" dots) */
.film-frame::before{
  content: "";
  position: absolute;
  top: 6px;
  left: 10%;
  right: 10%;
  height: 8px;
  background-image: radial-gradient(#f1f1f1 0 40%, transparent 40%);
  background-size: 12px 8px;
  background-repeat: repeat-x;
  opacity: 0.6;
  pointer-events: none;
}

/* responsive tweak for small screens */
@media (max-width:700px){
  .memory-media, .memory-video { max-width: 240px; aspect-ratio: 4/5; }
  .film-frame::before { left: 6%; right: 6%; background-size: 10px 6px; }
}

    
    .memory:hover img { transform: rotate(1deg) scale(1.02); }
    .memory::before {
      content: "‚ô•"; position: absolute; top: 15px; right: 15px; font-size: 30px;
      color: #ff4f8b; text-shadow: 2px 2px 4px rgba(0,0,0,0.2); z-index: 10;
      transform: rotate(15deg); pointer-events: none;
    }
    .memory:nth-child(even) img { transform: rotate(-2deg); }
    .memory:nth-child(even)::before { left: 15px; right: auto; transform: rotate(-15deg); }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ COLLAGE & TIMELINE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .collage-section { margin: 18px 0 22px; }
    .collage-full {
      width: 100%; height: auto; display: block; border-radius: 18px;
      box-shadow: 0 10px 26px rgba(0,0,0,0.18); border: 2px solid rgba(255,255,255,0.9);
    }
    .collage-caption-text { margin-top: 8px; text-align: center; font-size: 0.9rem; color: #d64375; font-weight: 600; }

    .timeline-section { margin: 20px 0 26px; }
    .timeline-inner { max-width: 760px; margin: 0 auto; position: relative; padding: 8px 0 4px; }
    .timeline-heading { text-align: center; font-size: 1.2rem; color: #ff4f8b; margin-bottom: 4px; }
    .timeline-subtitle { text-align: center; font-size: 0.85rem; color: #666; margin-bottom: 14px; }
    .timeline-line {
      position: absolute; top: 36px; bottom: 0; left: 50%; width: 3px;
      transform: translateX(-50%); background: linear-gradient(#ffb3d6, #ff6fa5); opacity: 0.4;
    }
    .timeline-item {
      position: relative; margin: 18px 0 26px; display: flex; align-items: flex-start;
      opacity: 0; transform: translateX(-40px);
      transition: opacity 2.5s cubic-bezier(0.25, 1, 0.5, 1), transform 2.5s cubic-bezier(0.25, 1, 0.5, 1);
    }
    .timeline-item.from-right { justify-content: flex-end; transform: translateX(40px); }
    .timeline-item.visible { opacity: 1; transform: translateX(0); }
    .timeline-marker {
      position: absolute; left: 50%; top: 26px; transform: translate(-50%, -50%);
      width: 18px; height: 18px; border-radius: 999px; background: #fff; border: 3px solid #ff6fa5;
      display: flex; align-items: center; justify-content: center; font-size: 10px; color: #ff6fa5;
      box-shadow: 0 0 0 3px rgba(255, 111, 165, 0.25);
    }
    .timeline-card {
      background: #fff7fb; border-radius: 16px; padding: 10px 12px;
      border: 1px solid #ffd1e6; box-shadow: 0 8px 18px rgba(0, 0, 0, 0.08); width: calc(50% - 40px);
    }
    .timeline-item:not(.from-right) .timeline-card { margin-right: auto; }
    .timeline-item.from-right .timeline-card { margin-left: auto; }
    .timeline-label { font-weight: 700; font-size: 0.95rem; color: #ff4f8b; margin-bottom: 2px; }
    .timeline-date { font-size: 0.75rem; color: #999; margin-bottom: 4px; }
    .timeline-text { font-size: 0.85rem; color: #444; line-height: 1.4; }

    @media (max-width: 700px) {
      .timeline-line { left: 10px; transform: none; }
      .timeline-marker { left: 10px; transform: translate(-50%, -50%); }
      .timeline-item, .timeline-item.from-right { transform: translateX(0); }
      .timeline-card { width: 100%; margin-left: 26px !important; margin-right: 0 !important; }
    }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ LOVE NOTIFICATIONS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .love-note {
      position: fixed; bottom: 0; left: 0; width: 100%;
      background: linear-gradient(135deg, #ff6fa5, #ff99c8); color: white;
      text-align: center; font-size: 0.85rem; padding: 10px 14px; z-index: 9999;
      box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.25); white-space: pre-line;
      opacity: 0; transform: translateY(100%); transition: transform 0.6s ease, opacity 0.6s ease;
    }
    body.unlocked .love-note { opacity: 1; transform: translateY(0); }
    .love-note span { animation: textBlink 1.4s ease-in-out infinite; }
    @keyframes textBlink { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }

    .tap-heart {
      position: fixed; font-size: 20px; color: #ff4f8b; pointer-events: none;
      animation: floatHeart 1.2s ease-out forwards; z-index: 10000; user-select: none;
    }
    @keyframes floatHeart { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-60px) scale(1.6); opacity: 0; } }

    .love-popup {
      position: fixed; font-size: 18px; color: #ff4f8b; font-weight: 600;
      opacity: 0; animation: loveFloat 3.5s ease-out forwards; pointer-events: none;
      z-index: 9998; user-select: none; white-space: nowrap;
    }
    @keyframes loveFloat {
      0% { transform: translateY(10px) scale(0.9); opacity: 0; } 20% { opacity: 1; } 70% { opacity: 1; } 100% { transform: translateY(-30px) scale(1.05); opacity: 0; }
    }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ HANGING LOVE MESSAGE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .love-message-overlay {
      position: fixed; inset: 0; background: rgba(0, 0, 0, 0.45);
      display: none; align-items: flex-start; justify-content: center; z-index: 10050; padding-top: 0;
    }
    .love-message-overlay.show { display: flex; }
    .love-string { position: absolute; top: 0; width: 2px; height: 140px; background: #fff; left: 50%; transform: translateX(-50%); }
    .love-message-box {
      margin-top: 140px; background: #fff7fb; border-radius: 18px; padding: 18px 16px;
      max-width: 320px; width: 90%; box-shadow: 0 14px 40px rgba(0, 0, 0, 0.35);
      border: 2px solid #ffb3d6; text-align: center;
      transform: translateY(-120vh); animation: fallDown 1.4s ease-out forwards; position: relative;
    }
    @keyframes fallDown { 0% { transform: translateY(-120vh); } 70% { transform: translateY(20px); } 100% { transform: translateY(0); } }
    .love-message-button {
      border: none; border-radius: 999px; padding: 8px 18px;
      background: linear-gradient(135deg, #ff6fa5, #ff99c8); color: #fff;
      font-size: 0.85rem; cursor: pointer;
    }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ COUNTER & REASONS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .love-counter {
      margin: 18px auto 24px; background: linear-gradient(135deg, #fff0f6, #ffe4f0);
      border-radius: 20px; border: 2px solid #ffb3d6; padding: 14px 12px 16px;
      box-shadow: 0 10px 28px rgba(255, 79, 139, 0.18); text-align: center;
    }
    .counter-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; }
    .counter-box {
      background: #fff; border-radius: 14px; padding: 8px 4px;
      box-shadow: 0 6px 14px rgba(0, 0, 0, 0.12); border: 1px solid #ffd1e6;
      animation: counterPop 0.6s ease;
    }
    @keyframes counterPop { from { transform: scale(0.85); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    .counter-number { display: block; font-size: 1.1rem; font-weight: 800; color: #ff4f8b; }
    .counter-label { font-size: 0.7rem; color: #666; }

    .reason-section { text-align: center; margin: 30px auto; max-width: 600px; padding: 24px; position: relative; }
    .reason-card {
      background: rgba(255, 255, 255, 0.9); border: 2px dashed #ffb3d6;
      border-radius: 18px; min-height: 80px; display: flex; align-items: center; justify-content: center;
      padding: 16px; margin-bottom: 24px; box-shadow: 0 8px 20px rgba(255, 179, 214, 0.2);
      transition: transform 0.3s ease;
    }
    .reason-card:hover { transform: translateY(-3px); }
    #reason-display { font-size: 1.05rem; color: #555; font-style: italic; margin: 0; opacity: 1; transition: opacity 0.4s ease; }
    .reason-btn {
      background: linear-gradient(45deg, #ff4f8b, #ff7eb3, #ff4f8b); background-size: 200% auto;
      color: white; border: none; padding: 12px 32px; border-radius: 99px;
      font-size: 1rem; font-weight: bold; cursor: pointer; box-shadow: 0 6px 20px rgba(255, 79, 139, 0.4);
      display: inline-flex; align-items: center; gap: 8px; animation: gradientMove 3s infinite linear;
      transition: all 0.3s ease;
    }
    .reason-btn:hover { transform: scale(1.05) translateY(-2px); box-shadow: 0 10px 25px rgba(255, 79, 139, 0.5); }
    .reason-btn:active { transform: scale(0.95); }
    @keyframes gradientMove { 0% { background-position: 0% 50%; } 100% { background-position: 200% 50%; } }
    .btn-heart { font-size: 1.2rem; animation: heartBeat 1.2s infinite; }
    @keyframes heartBeat { 0%, 100% { transform: scale(1); } 15%, 45% { transform: scale(1.3); } 30% { transform: scale(1); } }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ GAME & MODALS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    #gameButton {
      display: none; position: fixed; bottom: 80px; left: 50%; transform: translateX(-50%);
      background: linear-gradient(135deg, #ff6fa5, #ff99c8); color: white;
      font-size: 1rem; font-weight: bold; border: none; padding: 12px 26px;
      border-radius: 999px; box-shadow: 0 6px 20px rgba(255, 111, 165, 0.4);
      cursor: pointer; z-index: 10000; opacity: 0; transition: opacity 1s ease, transform 0.4s ease;
    }
    #gameButton.show { display: block; opacity: 1; transform: translateX(-50%) translateY(-10px); }

    /* LOADING OVERLAY (I LOVE YOU SWEETHEART) */
    .game-loading-overlay {
      position: fixed; inset: 0; background: rgba(255, 240, 246, 0.98);
      z-index: 30000; display: flex; align-items: center; justify-content: center;
      flex-direction: column; opacity: 0; pointer-events: none; transition: opacity 0.5s ease;
    }
    .game-loading-overlay.active { opacity: 1; pointer-events: all; }
    .loading-text {
      font-size: 2rem; color: #ff4f8b; font-weight: bold; text-align: center;
      animation: heartBeat 1.5s infinite;
    }

    /* GAME MODAL */
    .modal-backdrop {
      position: fixed; inset: 0; background: rgba(0,0,0,0.5); backdrop-filter: blur(4px);
      z-index: 20000; display: none; align-items: center; justify-content: center;
    }
    .modal-backdrop.show { display: flex; }
    
    .game-box {
      background: linear-gradient(135deg, #fff0f6, #ffe4f7); border-radius: 22px;
      border: 2px solid #ffb3d6; padding: 0; width: 90%; max-width: 450px;
      box-shadow: 0 14px 40px rgba(0,0,0,0.3); text-align: center;
      animation: popIn 0.6s ease; display: flex; flex-direction: column;
      max-height: 85vh; /* Restrict height for scrolling */
      overflow: hidden;
    }
    @keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

    .game-header { padding: 20px 20px 10px; flex-shrink: 0; }
    .game-scroll-area { overflow-y: auto; padding: 10px 20px; flex-grow: 1; }
    .game-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; }
    
    .box {
      background: #fff; border: 2px dashed #ff8fb8; border-radius: 12px;
      padding: 14px 0; cursor: pointer; transition: all 0.3s ease;
      font-weight: bold; color: #ff4f8b; box-shadow: 0 4px 12px rgba(255,111,165,0.15);
    }
    .box:hover { background: #ffb3d6; color: white; transform: translateY(-4px); }
    .box.opened { background: #ff99c8; color: white; border-style: solid; transform: scale(1.05); }
    
    .task-bubble {
      margin-top: 10px; background: #fff7fb; border-radius: 14px; padding: 10px;
      font-size: 0.9rem; color: #444; border: 1px solid #ffb3d6;
      box-shadow: 0 4px 14px rgba(0,0,0,0.08); animation: fadeInTask 0.6s ease;
    }
    @keyframes fadeInTask { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    /* Sticky Game Footer */
    .game-footer {
      padding: 15px; border-top: 1px solid #ffd1e6; background: #fff0f6;
      border-radius: 0 0 22px 22px; flex-shrink: 0;
    }
    .close-game {
      background: linear-gradient(135deg, #ff6fa5, #ff99c8); border: none;
      color: white; border-radius: 999px; padding: 10px 30px; cursor: pointer;
      font-weight: bold; box-shadow: 0 6px 20px rgba(255,79,139,0.3);
    }

    /* LETTER MODAL */
    .ow-modal-content {
      position: relative; z-index: 20010; max-width: 420px; width: 92%;
      background: linear-gradient(180deg,#fff8fb,#fff2f7); border-radius: 14px; padding: 20px; 
      box-shadow: 0 20px 50px rgba(0,0,0,0.3); border: 2px solid #ffb3d6; text-align: center;
    }
    .ow-unlocked-text { 
      font-family: 'Times New Roman', serif; font-size: 1.1rem; line-height: 1.6;
      color: #444; margin: 15px 0; padding: 10px; border: 1px dashed #ffb3d6; background: #fff;
    }
    .ow-close-btn {
      background: #ff4f8b; color: white; border: none; padding: 8px 20px;
      border-radius: 20px; cursor: pointer;
    }

  </style>
</head>

<body>

  <div class="bg-collage-grid">
    <div class="tile"><img src="images/bg1.jpeg" alt=""></div>
    <div class="tile"><img src="images/bg7.jpeg" alt=""></div>
    <div class="tile"><img src="images/bg6.jpeg" alt=""></div>
    <div class="tile"><img src="images/bg11.jpg" alt=""></div>
    <div class="tile"><img src="images/bg2.jpeg" alt=""></div>
    <div class="tile"><img src="images/bg8.jpeg" alt=""></div>
  </div>

  <div class="container">
    <h1>Our Love Scrapbook üíó</h1>
    <div class="sub">A secret cute little world only for us ü•∫‚ú®</div>
    <div class="sub"><b>I am just a man written by you..</b></div>

    <div id="lock">
      <p>Enter our secret password to unlock our memories üíï</p>
      <form id="login-form">
        <input id="password" type="password" placeholder="Passwordd neededd mam!" required>
        <br>
        <button class="btn" type="submit">Unlock üíó</button>
      </form>
      <div id="error" class="error"></div>
    </div>

    <div id="blog">

      <section class="open-when-section">
        <h2 class="ow-heading">Open When You Need Me... üíå</h2>
        <div class="envelope-grid">
          
          <div class="envelope-container" id="env-sad" onclick="triggerLetter('sad', 'env-sad')">
            <div class="envelope"><div class="seal">‚ù§</div></div>
            <div class="envelope-label">You are Sad</div>
          </div>

          <div class="envelope-container" id="env-miss" onclick="triggerLetter('miss', 'env-miss')">
            <div class="envelope"><div class="seal">‚ù§</div></div>
            <div class="envelope-label">You Miss Me</div>
          </div>

          <div class="envelope-container" id="env-happy" onclick="triggerLetter('happy', 'env-happy')">
            <div class="envelope"><div class="seal">‚ù§</div></div>
            <div class="envelope-label">You Need a Laugh</div>
          </div>

          <div class="envelope-container" id="env-love" onclick="triggerLetter('love', 'env-love')">
            <div class="envelope"><div class="seal">‚ù§</div></div>
            <div class="envelope-label">Why I Love You</div>
          </div>

        </div>
      </section>

      <div class="reel-section">
        <div class="reel-title">Here are your favourite guys üòèüé•</div>
        <div class="reel-sub">
          Since you love them so much, I kept them ready in reel format just for you.
          After this, back to your real favourite guy (me). üíó
        </div>
        <div class="reel-grid">
          <div class="reel">
            <video class="autoplay-reel" muted loop playsinline preload="auto">
              <source src="videos/reels2.mp4" type="video/mp4">
            </video>
          </div>
          <div class="reel">
            <video class="autoplay-reel" muted loop playsinline preload="auto">
              <source src="videos/reels1.mp4" type="video/mp4">
            </video>
          </div>
        </div>
      </div>

      <div class="journal-wrapper">
        <div class="journal-inner">
          <div class="journal-top-line">
            <span><b><i>H&M</i></b></span><span>THE BHOCHKUU JOURNAL</span><span>DATE: 23/12/24</span>
          </div>
          <div class="journal-name">THE BHOCHKUU JOURNAL</div>
          <div class="journal-title-bar">Title: The Day My Life Changed Because of You</div>
          <div class="journal-byline">By Ussü´∂</div>
          <div class="journal-lead">
            Sometimes life changes quietly. No fireworks, no big announcement ‚Äî
            just a message, a call, a smile. That‚Äôs how it started with you, and
            that‚Äôs how our ordinary days turned into mour favourite story. üíó
          </div>
          <div class="journal-grid">
            <div class="journal-column">
              <div class="journal-subtitle">Little Moments That Started It</div>
              <div class="journal-list">
                <p class="journal-heart-bullet"><b>First Chat:</b> That first text which made me drive crazy for you<p>
                <p class="journal-heart-bullet"><b>Late-Night Talks:</b> Where every word and text meant whole world</p>
                <p class="journal-heart-bullet"><b>Inside Jokes:</b> The kind only we understand.</p>
                <p class="journal-heart-bullet"><b>Random Good Mornings:</b>The texts i loved!</p>
              </div>
            </div>
            <div class="journal-column">
              <div class="journal-subtitle">Why You‚Äôre My Favourite Person?</div>
              <div class="journal-list">
                <p class="journal-heart-bullet">With you storms felt lovely.</p>
                <p class="journal-heart-bullet">On bad days, your words feel like home.</p>
                <p class="journal-heart-bullet">Your thought's always enough to make me smile.</p>
                <p class="journal-heart-bullet">When i know i will miss you more in a room full of people..</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="collage-section">
        <img class="collage-full" src="images/collage.jpg" alt="Our Collage" loading="lazy">
        <div class="collage-caption-text">Our Collage ‚Äî a whole page of us üíó</div>
      </div>

      <div class="love-counter">
        <h2 class="counter-title">Since The Day Our Hands First Met ü§ùüíó</h2>
        <p class="counter-date">6 July</p>
        <div class="counter-grid" id="loveCounter">
          <div class="counter-box"><span class="counter-number" id="c-days">0</span><span class="counter-label">Days</span></div>
          <div class="counter-box"><span class="counter-number" id="c-hours">0</span><span class="counter-label">Hours</span></div>
          <div class="counter-box"><span class="counter-number" id="c-minutes">0</span><span class="counter-label">Minutes</span></div>
          <div class="counter-box"><span class="counter-number" id="c-seconds">0</span><span class="counter-label">Seconds</span></div>
        </div>
      </div>

      <div class="reason-section">
        <h3 class="reason-title">‚ú® Why I Love You? ‚ú®</h3>
        <div class="reason-card"><p id="reason-display">Click the button below! üëá</p></div>
        <button class="reason-btn" onclick="showReason()">
          <span class="btn-text">Tell me why ü•∫</span><span class="btn-heart">üíó</span>
        </button>
      </div>

      <div class="timeline-section" id="our-story">
        <div class="timeline-inner">
          <h2 class="timeline-heading">Our Story, Step by Step üíó</h2>
          <p class="timeline-subtitle">Just little dots on this line‚Ä¶ but each one changed my heart. ü•∫</p>
          <div class="timeline-line"></div>
          
          <div class="timeline-item">
            <div class="timeline-marker">‚ô•</div>
            <div class="timeline-card">
              <div class="timeline-label">First Chat</div>
              <div class="timeline-date">14 June 2024</div>
              <div class="timeline-text">That shy first ‚Äúhi‚Äù that didn‚Äôt know it was starting forever.</div>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-marker">‚ô•</div>
            <div class="timeline-card">
              <div class="timeline-label">First Call</div>
              <div class="timeline-date">4 July 2024</div>
              <div class="timeline-text">Your voice that night felt more like home than my own room.</div>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-marker">‚ô•</div>
            <div class="timeline-card">
              <div class="timeline-label">First Fight</div>
              <div class="timeline-date">Didnt remembered hehe</div>
              <div class="timeline-text">We broke a little‚Ä¶ but we chose each other again, even louder.</div>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-marker">‚ô•</div>
            <div class="timeline-card">
              <div class="timeline-label">First Kiss</div>
              <div class="timeline-date">22 Sep 2024</div>
              <div class="timeline-text">My whole world paused forgot how to be alone.</div>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-marker">‚ô•</div>
            <div class="timeline-card">
              <div class="timeline-label">Today</div>
              <div class="timeline-date">Right now</div>
              <div class="timeline-text">Still choosing you. Still learning you. Still falling again & again.</div>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-marker">‚ô•</div>
            <div class="timeline-card">
              <div class="timeline-label">Tomorrow</div>
              <div class="timeline-date">Every day after this</div>
              <div class="timeline-text">I don‚Äôt know the future, but I know your name is already in it. ‚ú®</div>
            </div>
          </div>
        </div>
      </div>

      <div class="memory">
        <div class="memory-content">
          <h2>üíóüíû The Day We First Spoke üíûüíó</h2>
          <p>That moment when everything felt different. I didn‚Äôt know yet, but my heart already chose you that day. ü•∫üíó This was the beginning of *us*. It was just amazing to see you in that black dress! You took my breath away and i whispered underneath myy breath! Darlingg you look perfectt tonighttü•πüßø</p>
        </div>
        <img src="images/first.jpeg" alt="First memory">
      </div>

      <div class="memory">
        <div class="memory-content">
          <h2>üåô Our Late Night Talks</h2>
          <p>When the whole world slept but we stayed awake, sharing dreams, jokes, fears‚Ä¶ and love. üíóEvery saturdays were just blessingg to me it was the day i would cry out my heart loud and could share some happy tears too...</p>
        </div>
        <img src="images/call.jpg" alt="Late night chat">
      </div>

      <div class="memory">
        <div class="memory-content">
          <h2>üíñ Every Little Moment</h2>
          <p>From silly fights to tight hugs, from missed calls to long smiles ‚Äî everything with you is special. üíïEvery little moment every time you care every time it brought me a smilee on my face. Those little little things you do to make us better. I lovee youuu myy gurll‚ù§Ô∏è‚Äçü©πüßø</p>
        </div>
        <img src="images/little.jpeg" alt="Us together">
      </div>

      <div class="memory">
        <div class="memory-content">
          <h2>Our Fav Momentü•π</h2>
          <p>It was 8th of januaryy and we just had our first lip kiss sitting up while i was sleeping in your lap. In my eyes i could see two of moons and one close to me was more beautifull.. i saw your face and something in me couldnt resist so i just kissed your lipss! And then we went down on terrace to have walk and while we were walking we were talking about metro station things that arya did and we go to the other side and i lifted you up! You were saying that niche utar hitu niche utar! Me kidhu kiss kr to j and u kissed me on lips and trust me i didnt expect lip kiss hehe but it was one of the bestest day!</p>
        </div>
        <img src="images/nazar.jpg" alt="Us together">
      </div>
      <div class="memory">
        <div class="memory-content">
          <h2>Desi on Swadeshiüò≠</h2>
          <p>First of all sorry for being late hehe! Man you were so so verryyy beautiful in that sarree i am glad i came and you waited! It was the first bouquet i bought for you and you took it to home! We clicked photos you know i just miss that dayss hehe i love these dayss more though as now you loving me openüò≠</p>
        </div>
        <img src="images/swadeshi.jpg" alt="Us together">
      </div>
      <div class="memory">
        <div class="memory-content">
          <h2>Our first Ride together!</h2>
          <p>Remember it was 1st of september and you were in periods and the call came of yourss i came there to meet you! We had a little chat i would never forget that yellow kurti of yourss! The nazar nail art on the third finger of right hand and when you took support of my shoulders to sit behind me! It was pure bliss hehe I lovee youu</p>
        </div>
        <div class="memory-media film-frame">
  <video class="memory-video" src="videos/ride.mp4" muted loop playsinline preload="metadata"></video>
</div>
      </div>
      <div class="memory">
        <div class="memory-content">
          <h2>The Bunk</h2>
          <p>I was literally beeging you all the time to lets just do it once and you agreed and we bunked on 26sep! I brought in extra hoodie because i wanted you to wear it and you were looking pretty i must say! Then we roamed and sat in garden and i had my first kiss on hand and head hehe we sat talked walked and it was prettiest nai? TBH every moment with youwas prettiest and will alwayss bee myy kiddoü•π</p>
        </div>
        <img src="images/bunk.jpeg" alt="Us together">
      </div>
      <div class="memory">
        <div class="memory-content">
          <h2>Our first hug..</h2>
          <p>We happened to had our first hug on first day of navratri24 which was 3rd october! I still remember it was time to go! adn you were hugging everyone shailyy hetvi and everyone who was present! I thought i wont be able to get that but you initiated as i went towards you and we had! I still know how great it felt and just how howww much i didnt wanted to let you go! </p>
        </div>
        <img src="images/firsthug.jpeg" alt="Us together">
      </div>
      <div class="memory">
        <div class="memory-content">
          <h2>Your first kiss</h2>
          <p>It was my birthday! i was really reallyyy happy becausee you were there and we were clicking photos in the mirror! It was 11:44 16 mins remaining for my birthday to end! And you gave me the most beautiful gift i didnt know what and how happened but you kissed me on my cheeks all i knew was time stopped and there was no one more happy than me! Hehe here is the photo of me kissingüò≠üßø</p>
        </div>
        <img src="images/yourkiss.jpeg" alt="Us together">
      </div>
      <div class="memory">
        <div class="memory-content">
          <h2>Our first video call</h2>
          <p>Hehe i know you dont like the video calls so much but its happen to be fine with me! You were sleeping resting and i couldnt help but staring at you! In your eyes i found my universe...</p>
        </div>
        <img src="images/bg5.jpeg" alt="Us together">
      </div>
      <div class="memory">
        <div class="memory-content">
          <h2>The day you were gonna propose</h2>
          <p>26th october : The day i was going to be proposed by the most beautiful women! But i myself ruined that moment so instead on this day we created a problem hehe! The metro kaand fr! Ik it didnt went good but i am glad we still here and sharing this as memories!</p>
        </div>
        <img src="images/propose.jpg" alt="Us together">
      </div>
      <div class="memory">
        <div class="memory-content">
          <h2>The day I proposed</h2>
          <p>Not to mention the date cause you remembered this one ig hehe! It was only 143 days of us talking together not knowing we both found each other to be this precious! i lovee youuu girlll i reallyy really do! And thank youu for accepting me because i will be your last! You know i was so scared to propose because you already said it that you didnt wanted but when i got to know i was pretty confident ofc but still i was nervousss frr!! But i am very gladd we becamee us heheee</p>
        </div>
        <div class="memory-media film-frame">
  <video class="memory-video" src="videos/propose.mp4" muted loop playsinline preload="metadata"></video>
</div>

      </div>
      <div class="memory">
        <div class="memory-content">
          <h2>First Cuddle!</h2>
          <p>It was at my house... You came to myy house for the very first timee at 3rdFeb25! You were super cormfortable! I loveedd that dayyy fr! How we just lay down there and was together! I could do that whole life yk! I miss youu when you are not by my side!</p>
        </div>
        <img src="images/us.jpg" alt="Us together">
      </div>
      <div class="memory">
        <div class="memory-content">
          <h2>1706</h2>
          <p>I know we couldnt meet that day but atleast we both were able to see each other! Ik it was tough but it really made me happy knowing you loved your birthdayy becuase of me.. that perfume,princy(only yours) and everything i am just grateful to make you laugh and brought smile to your faceü•π</p>
        </div>
        <img src="images/birthday.jpg" alt="Us together">
      </div>
      <div class="memory">
        <div class="memory-content">
          <h2>6107</h2>
          <p>Hehe i finally understood how it felt when someone sent gifts with love but how it feels when person is not there! The effort you showed in makingg my lovliest box is something i would neverr everr forget! I cried and it was the happiest tears i ever shed!</p>
        </div>
        <img src="images/bg4.jpeg" alt="Us together">
      </div>
      <div class="memory">
        <div class="memory-content">
          <h2>Our Choice </h2>
          <p>We both have been gone through problems and hell in the past! We still make mistakes we still fight each other we get angry sad we dont talk for few hours and be rude but... We always chose each other and that‚Äôs what makes us apart from rest! I maybe fight but i would never be against you! Instead of leaving you chose to stay! You saw one reason to stay and i heard I love you in 100 different ways! This page does contain memories of ours but we always experience more than ever words could express! I hope you love it and trust me its nothing i would do anything for you because you make me wanna do it!This page was never to show you how great i want to be but its about how great we are! The things you have done for me going out of lines to make sure i am happy lying around!On the days when i did nothing but hurt you and still you stand firm on by side i can never thank you enough! I would always be grateful to God that he let me go through that stuff so when i find myy real one(you) i know how precious you are and how to not repeat thingss and same goes for you ig?So i am really glad i met and i can easily say I would want to marry youu in every life i get and love you in every possible way! Thank you manu You are best I lovee youu myyy dearr manuuüò≠‚ù§Ô∏è‚Äçü©π</p>
        </div>
      </div>

      <button id="gameButton">Play a Game üíå</button>
      
    </div> 
  </div> 

  <div class="game-loading-overlay" id="loadingOverlay">
    <div class="loading-text">I Love You Sweetheart üíó</div>
  </div>

  <div id="gameModal" class="modal-backdrop">
    <div class="game-box">
      <div class="game-header">
        <h3 style="color:#ff4f8b; margin:0;">Choose a Box üé≤</h3>
      </div>
      <div class="game-scroll-area">
        <div class="game-grid" id="gameGrid"></div>
        <p class="game-ps">Whatever you open‚Ä¶ the task is compulsory for you ;)üíó<br>And you owe me 5 videos and i will tell how exactly i want you to record hehe</p>
      </div>
      <div class="game-footer">
        <button class="close-game" onclick="closeModal('gameModal')">Close</button>
      </div>
    </div>
  </div>

  <div id="owModal" class="modal-backdrop">
    <div class="ow-modal-content">
      <h3 id="owTitle" style="color: #d64375; margin-bottom: 10px;">Letter Title</h3>
      <div id="owContent" class="ow-unlocked-text"></div>
      <button class="ow-close-btn" onclick="closeModal('owModal')">Close Letter</button>
    </div>
  </div>

  <div class="love-message-overlay" id="loveMessageOverlay">
    <div class="love-string"></div>
    <div class="love-message-box">
      <p>Heyy <strong>my lovee</strong> üíó<br>Just wanted to remind you that<br>no matter how hard life gets,<br>I‚Äôm always with you, okay? ü•∫‚ú®</p>
      <button class="love-message-button" id="loveMessageClose">Okay my love üíó</button>
    </div>
  </div>

  <div class="love-note">
    <span>No matter how far you are‚Ä¶ I‚Äôll be right here with you. üíóüåô</span>
  </div>
  <audio id="bg-music" loop>
    <source src="music/song.mp3" type="audio/mp3">
  </audio>
  <script>
    const CORRECT_PASSWORD = "Hitarth777";  
    const form = document.getElementById("login-form");
    const passInput = document.getElementById("password");
    const error = document.getElementById("error");
    const lock = document.getElementById("lock");
    const blog = document.getElementById("blog");

    // üíå LOVE OVERLAY LOGIC
    const loveOverlay = document.getElementById("loveMessageOverlay");
    const loveCloseBtn = document.getElementById("loveMessageClose");
    let lovePopupScheduled = false;

    function showLovePopup() {
      if (!loveOverlay) return;
      loveOverlay.classList.add("show");
    }
    function hideLovePopup() {
      if (!loveOverlay) return;
      loveOverlay.classList.remove("show");
    }
    if (loveCloseBtn) loveCloseBtn.addEventListener("click", hideLovePopup);
    if (loveOverlay) loveOverlay.addEventListener("click", (e) => {
      if (e.target === loveOverlay) hideLovePopup();
    });

    // üîê PASSWORD & UNLOCK
    form.addEventListener("submit", function (e) {
      e.preventDefault();
      const entered = passInput.value.trim();
      if (entered.toLowerCase() === CORRECT_PASSWORD.toLowerCase()) {
        lock.style.display = "none";
        blog.style.display = "block";
        document.body.classList.add("unlocked");
        document.getElementById("bg-music").play().catch(e => console.log("Audio error:", e));

        // Start Reels
        document.querySelectorAll(".autoplay-reel").forEach((video) => {
          video.play().catch(() => {});
          video.addEventListener("click", () => {
            if (video.paused) video.play(); else video.pause();
          });
        });
        document.querySelectorAll(".autoplay-reel").forEach(video => {

  let playedOnce = false;

  // Play reel once after unlock
  video.play().catch(()=>{});

  // When video ends ‚Üí show thumbnail
  video.addEventListener("ended", () => {
    playedOnce = true;
    video.pause();
    video.currentTime = 0;

    // Exit fullscreen mode if somehow triggered
    if (document.fullscreenElement) {
      document.exitFullscreen();
    }

    // Freeze frame so it looks like a thumbnail
    video.setAttribute("data-ended", "true");
  });

  // When clicked ‚Üí restart ONLY IF played once
  video.addEventListener("click", () => {
    if (playedOnce) {
      video.play();
      video.removeAttribute("data-ended");
    } else {
      // before first end ‚Üí toggle play/pause normally
      if (video.paused) video.play();
      else video.pause();
    }
  });

});


        // Schedule Popup
        setTimeout(() => {
          if (document.body.classList.contains("unlocked")) showLovePopup();
        }, 15000);
      } else {
        error.textContent = "Yaad rakho barabar üò≠";
        passInput.value = "";
      }
    });

    // üíó HEART TAP
    document.addEventListener("click", function (e) {
      // Don't spawn hearts on buttons
      if(e.target.closest('button') || e.target.closest('.box')) return;
      
      const heart = document.createElement("div");
      heart.className = "tap-heart";
      heart.textContent = "üíó";
      heart.style.left = e.clientX + "px";
      heart.style.top = e.clientY + "px";
      document.body.appendChild(heart);
      setTimeout(() => heart.remove(), 1200);
    });

    // üí¨ RANDOM LOVE POPUPS
    setInterval(() => {
      if (!document.body.classList.contains("unlocked")) return;
      const msg = document.createElement("div");
      msg.className = "love-popup";
      msg.textContent = "I love you <3";
      const padding = 60;
      const x = Math.random() * (window.innerWidth - padding * 2) + padding;
      const y = Math.random() * (window.innerHeight - padding * 2) + padding;
      msg.style.left = x + "px";
      msg.style.top = y + "px";
      document.body.appendChild(msg);
      setTimeout(() => msg.remove(), 3500);
    }, 25000);

    // üíû TIMELINE ANIMATION
    const timelineItems = document.querySelectorAll(".timeline-item");
    const observer = new IntersectionObserver((entries, obs) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("visible");
          obs.unobserve(entry.target);
        }
      });
    }, { threshold: 0.3 });
    timelineItems.forEach((item, index) => {
      if (index % 2 === 1) item.classList.add("from-right");
      observer.observe(item);
    });

    // üíó TIMER
    function startLoveCounter() {
      const startDate = new Date("2024-07-06T22:00:00"); 
      function updateCounter() {
        const now = new Date();
        let diff = now - startDate;
        if (diff < 0) diff = 0;
        const totalSeconds = Math.floor(diff / 1000);
        const days = Math.floor(totalSeconds / (3600 * 24));
        const hours = Math.floor((totalSeconds % (3600 * 24)) / 3600);
        const minutes = Math.floor((totalSeconds % 3600) / 60);
        const seconds = totalSeconds % 60;
        document.getElementById("c-days").textContent = days;
        document.getElementById("c-hours").textContent = hours;
        document.getElementById("c-minutes").textContent = minutes;
        document.getElementById("c-seconds").textContent = seconds;
      }
      updateCounter(); setInterval(updateCounter, 1000);
    }
    startLoveCounter();

    // üé≤ REASONS
    const reasons = [
      "Because you make even boring days feel special.",
      "Because of the way your eyes light up when you smile.",
      "Because you are the only one who understands my weird jokes.",
      "Because your voice is my favorite sound.",
      "Because you support my dreams.",
      "Because you look cute even when you are angry.",
      "Because being with you feels like home.",
      "Because you have the kindest heart.",
      "Because you make me want to be a better man.",
      "Because I just can't imagine a tomorrow without you.",
      "Because you heal me in untold ways.",
      "Because you always made me feel loved.",
      "Because you are pretty.",
      "Because you are so kind.",
      "Becuase you never give up things easily ",
      "Because of how your eyes speaks more than words",
      "Because of the way you love me.",
      "Because of the hair you have",
      "Because of your cutiee nakhraa",
      "Because of your prettiest brown honey eyes.",
      "Because of the way you speak.",
      "Because of the way your behaviour pushes me",
      "Because the way you express!",
      "Because of how you keep every of relation strong",
      "Because you love sm hehe",
      "Because you are you!",
      "Because of how you care",
      "Because of how you still pray!",
      "Because you are sexyy <3",
      "Because you stayed instead of leaving!",
      "Because i can write a novel on you",
      "Because of how you smell",
      "Because of how soft your skin is!",
      "Because the way everything seems coourful with you",
      "Because how you do crazy things",
      "Because of how you talk about me!",
      "Because you care about the boy who disappeared for everyone",
      "Because you were never bored of me",
      "Because you wanted solution and not to be the winner of argument",
      "Because you knew the importance of love",
      "Because you never degraded me!",
      "Because you have the prettiest soul",
      "Because you are the lovliest, babe!",
      "Because you are my brother! hehe<3",
      "Because you cared about efforts",
      "Because wanted me and not better",
      "Because you are greatest of all time!",
      "Because you always cared about others while you were not okay!But you dont deserve that okay?",
      "Because i would live happily with you!",
      "Because you would be the bestest",
      "Because you are my bestfriend",
      "Because you are keeper hehe",
      "Because you have a pretty nose",
      "Because i would sit with you for hours silently then having a 2 hour gaming session",
      "Because i would watch you sitting for hours then roaming in concerts and parties..",
      "Because your calls make me happiest alive",
      "Because the way you kiss",
      "Because the way your hug feels like heaven",
      "Because when we hold hands i hold my world!",
      "Because i feel safe wid you",
      "Because of how cutiee youu aree",
      "Because of how childishh you can be",
      "Because of how you respect me",
      "Because of how you believe in me!",
      "Because you are more than talha anjum's lyrics to me ",
      "Because you are calm to my encore!",
      "Because without you i am getting seedhe maut..",
      "Because you are words to my letters",
      "Because you are sun to my moon",
      "Because you are missing piece to my puzzle",
      "Because you complete me",
      "Because you left me no regrets",
      "Because i can be angry but not without you..",
      "Because you would teach me!",
      "Because how warm your touch feels",
      "Because of how all my fears fades when i am with you",
      "Because you love doing things i love",
      "Because for me you would hurt yourself to make me happy",
      "Because you treat me like i matter!",
      "Because i want to sleep in your arms",
      "Because i found eternal peace in your presence",
      "Because i hate when i am wihtout you",
      "Because i always wonder what my manu is doing rn?",
      "Because Manasvi is my fav name!",
      "Because i want to play luka chupi iykyk",
      "Because i was worst until you made me best",
      "Because you saw me not what i was!",
      "Because i hurt you and you still cared if i was hurt or not",
      "Because with you my words flow like river",
      "Because i stopped hating myself",
      "Because i satarted learning how to live",
      "Because you  taught me take care of my myself",
      "Because i want to be part of your every moment",
      "Because i never happen to be this jealous for someone",
      "Because i never intended to change myself to good",
      "Because you are my chicago",
      "Because you aree myyy!!!",
      "Because i saw my world in yourr eyes",
      "Because i happen to be gossiping with moon about your beauty",
      "Because i started to feel things again",
      "Because i am so grateful to have you",
      "Because i would relive my life 9999 times and everytime i would want to fall in love with you<3"
    ];

    function showReason() {
      const display = document.getElementById("reason-display");
      display.style.opacity = 0;
      setTimeout(() => {
        const random = reasons[Math.floor(Math.random() * reasons.length)];
        display.textContent = `"${random}"`;
        display.style.opacity = 1;
      }, 300);
    }

    /* üíå ENVELOPE LOGIC (UPDATED WITH SINGLE .open CLASS) */
    const LETTER_CONTENT = {
      sad: "When you are sad ‚Äî Remember the time we stayed up till 4am talking about us teasing out each other my silliest yet lamyy jokes huh?.",
      miss: "When you miss me ‚Äî If you do miss me then you better do everything happily okay? Cause my memories of mine should bring smile forever! ‚ô•",
      happy: "Silly memory:Remember we were at hetvi's and like tu mara aagad aam ayine javani hti tease krva jem krto hu but instead you lost your balance and tu mara pr padvani hati pchi banne hsta?.",
      love: "Why I love you? Because it's you!."
    };
    
    // Store currently opened envelope ID to close it later
    let currentEnvelopeId = null;

    function triggerLetter(type, envelopeId) {
      const env = document.getElementById(envelopeId);
      currentEnvelopeId = envelopeId;
      
      // 1. Add class to animate opening
      env.classList.add("open");

      // 2. Wait for animation, then open modal
      setTimeout(() => {
        openModal("owModal", type);
      }, 600);
    }

    /* üß† GENERIC MODAL MANAGER */
    function openModal(modalId, contentType = null) {
      const modal = document.getElementById(modalId);
      
      // Setup content if it's the letter modal
      if (modalId === "owModal" && contentType) {
        const title = document.getElementById('owTitle');
        const content = document.getElementById('owContent');
        const titles = { sad: "Open When You're Sad", miss: "Open When You Miss Me", happy: "Open When You Need a Laugh", love: "Why I Love You" };
        title.textContent = titles[contentType];
        content.textContent = LETTER_CONTENT[contentType];
      }

      modal.classList.add("show");
    }

    function closeModal(modalId) {
      const modal = document.getElementById(modalId);
      modal.classList.remove("show");

      // If closing letter modal, reset the envelope animation
      if (modalId === "owModal" && currentEnvelopeId) {
        const env = document.getElementById(currentEnvelopeId);
        if(env) env.classList.remove("open");
        currentEnvelopeId = null;
      }
    }

    // Close modals on Backdrop Click or Escape Key
    document.querySelectorAll('.modal-backdrop').forEach(modal => {
      modal.addEventListener('click', (e) => {
        if (e.target === modal) closeModal(modal.id);
      });
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === "Escape") {
        document.querySelectorAll('.modal-backdrop.show').forEach(modal => closeModal(modal.id));
      }
    });

    /* üé≤ GAME LOGIC WITH LOADING & CONFETTI */
    const gameButton = document.getElementById('gameButton');
    const loadingOverlay = document.getElementById('loadingOverlay');
    const grid = document.getElementById('gameGrid');

    const tasks = [
      "Say 'I love you' in your cutest voice üíó", "Send me your cutest selfie üòò",
      "Tell me one memory of us you love the most ‚ù§Ô∏è", "Sing one line of any song you think of me üé§",
      "Send me a voice note saying you miss me ü•∫", "Tell me what you would name our future pet üòÜ",
      "Say 'Goodnight my love' in sleepy voice üí§", "Send me a picture of any pink thing üíñ",
      "Call me and say one sweet thing üíû", "Write 'I love you' 10 times and send me üíå"
    ];

    // Build Grid
    tasks.forEach((task, index) => {
      const boxWrapper = document.createElement("div");
      boxWrapper.style.textAlign = "center";
      const box = document.createElement("div");
      box.className = "box";
      box.textContent = index + 1;
      const taskBubble = document.createElement("div");
      taskBubble.className = "task-bubble";
      taskBubble.style.display = "none";
      taskBubble.textContent = task;

      box.addEventListener("click", () => {
        if(!box.classList.contains('opened')){
          box.classList.add("opened");
          taskBubble.style.display = "block";
        }
      });
      boxWrapper.appendChild(box);
      boxWrapper.appendChild(taskBubble);
      grid.appendChild(boxWrapper);
    });

    // Handle Game Button Click
    gameButton.addEventListener("click", () => {
      // 1. Show Loading Overlay
      loadingOverlay.classList.add('active');

      // 2. Wait 2 seconds, then switch to game modal & fire confetti
      setTimeout(() => {
        loadingOverlay.classList.remove('active');
        openModal('gameModal');
        fireConfetti();
      }, 2000);
    });

    // Show game button on scroll
    window.addEventListener("scroll", () => {
      if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 200) {
        gameButton.classList.add("show");
      }
    });

    /* üéâ CONFETTI FUNCTION */
    function fireConfetti() {
      const count = 200;
      const defaults = { origin: { y: 0.7 } };

      function fire(particleRatio, opts) {
        confetti(Object.assign({}, defaults, opts, {
          particleCount: Math.floor(count * particleRatio)
        }));
      }

      fire(0.25, { spread: 26, startVelocity: 55 });
      fire(0.2, { spread: 60 });
      fire(0.35, { spread: 100, decay: 0.91, scalar: 0.8 });
      fire(0.1, { spread: 120, startVelocity: 25, decay: 0.92, scalar: 1.2 });
      fire(0.1, { spread: 120, startVelocity: 45 });
    }
    // call this once in your <script> (after DOM is ready)
(function () {
  const mediaEls = document.querySelectorAll('.memory-media');

  if (!('IntersectionObserver' in window)) {
    // fallback: autoplay all muted videos (still no fullscreen)
    document.querySelectorAll('.memory-video').forEach(v => { v.play().catch(()=>{}); });
    return;
  }

  const obs = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      const mediaWrap = entry.target;
      const video = mediaWrap.querySelector('.memory-video');
      if (!video) return;

      // when 40% visible, play; pause otherwise (keeps bandwidth low)
      if (entry.intersectionRatio >= 0.4) {
        // try to load and play (muted + playsinline -> mobile autoplay allowed)
        if (video.paused) {
          // ensure preload is ready if not loaded
          if (video.readyState < 2) {
            // start loading minimal data
            video.preload = 'auto';
            video.load();
          }
          video.play().catch(()=>{ /* ignore autoplay failures */ });
        }
      } else {
        // pause to save CPU and bandwidth
        if (!video.paused) {
          video.pause();
        }
      }
    });
  }, {
    threshold: [0, 0.2, 0.4, 0.75, 1]
  });

  mediaEls.forEach(el => obs.observe(el));
})();


  </script>
</body>
</html>
